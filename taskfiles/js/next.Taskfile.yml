# yaml-language-server: $schema=https://taskfile.dev/schema.json
version: "3"

tasks:
  run:
    internal: true
    desc: Run the Next.js app in development mode
    deps: [":js:install-deps"]
    cmd: $JS_EXEC next dev --turbopack

  build:
    internal: true
    desc: Build the Next.js app for production
    deps: [":js:install-deps"]
    sources:
      - next.config.*
      - tsconfig.json
      - public/**
      - src/**
    generates:
      - .next/**
    cmd: $JS_EXEC next build --turbopack

  start:
    internal: true
    desc: Start the Next.js production server
    deps: [":js:install-deps", build]
    cmd: $JS_EXEC next start
